# aitema|Hinweis - Umgebungsvariablen
# Kopiere diese Datei nach .env und passe die Werte an

# === Allgemein ===
COMPOSE_PROJECT_NAME=hinweis
NODE_ENV=development
LOG_LEVEL=DEBUG

# === PostgreSQL ===
POSTGRES_USER=hinweis
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=hinweis_platform
POSTGRES_PORT=5432

# === Redis ===
REDIS_PASSWORD=CHANGE_ME_STRONG_REDIS_PASSWORD

# === Backend ===
BACKEND_PORT=8080
SECRET_KEY=CHANGE_ME_GENERATE_WITH_python3_-c_"import_secrets;print(secrets.token_hex(64))"
JWT_SECRET_KEY=CHANGE_ME_GENERATE_WITH_python3_-c_"import_secrets;print(secrets.token_hex(64))"
ENCRYPTION_MASTER_KEY=CHANGE_ME_GENERATE_WITH_python3_-c_"import_secrets;print(secrets.token_hex(32))"

# === Frontend ===
FRONTEND_PORT=4200

# === Nginx / TLS ===
HTTP_PORT=80
HTTPS_PORT=443
DOMAIN=hinweis.example.de
SSL_CERT_PATH=./nginx/ssl/fullchain.pem
SSL_KEY_PATH=./nginx/ssl/privkey.pem

# === CORS ===
CORS_ORIGINS=https://hinweis.example.de

# === E-Mail / SMTP (fuer Benachrichtigungen) ===
SMTP_HOST=mail.example.de
SMTP_PORT=587
SMTP_USER=hinweis@example.de
SMTP_PASSWORD=CHANGE_ME
SMTP_FROM=noreply@example.de
SMTP_TLS=true

# === Tor Hidden Service ===
ENABLE_TOR=false

# === Upload-Limits ===
MAX_UPLOAD_SIZE_MB=50

# === Backup ===
BACKUP_RETENTION_DAYS=30

# === Multi-Tenant ===
DEFAULT_TENANT_SLUG=default
TENANT_ISOLATION_MODE=database  # database | schema | row

# === HinSchG Compliance ===
# Frist fuer Eingangsbestaetigung in Tagen (HinSchG ยง17 Abs. 1: 7 Tage)
HINSCHG_EINGANGSBESTAETIGUNG_TAGE=7
# Frist fuer Rueckmeldung in Tagen (HinSchG ยง17 Abs. 2: 3 Monate = 90 Tage)
HINSCHG_RUECKMELDUNG_TAGE=90
# Aufbewahrungsfrist in Jahren (HinSchG ยง11 Abs. 5: 3 Jahre nach Abschluss)
HINSCHG_AUFBEWAHRUNG_JAHRE=3

# === Sicherheit (BSI-Grundschutz) ===
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=100/hour
RATE_LIMIT_SUBMISSION=10/hour
SESSION_TIMEOUT_MINUTES=30
MFA_REQUIRED=false
PASSWORD_MIN_LENGTH=12
BRUTE_FORCE_LOCKOUT_ATTEMPTS=5
BRUTE_FORCE_LOCKOUT_MINUTES=30
